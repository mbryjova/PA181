<!-- Views/Places/Map.cshtml -->
@model IEnumerable<NewlyReused.Models.Place>

@{
    ViewData["Title"] = "Map";
}
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<div id="map" style="height: 500px;"></div>
@section Scripts {
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        var map = L.map('map').setView([51.505, -0.09], 13);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19
        }).addTo(map);

        @foreach (var place in Model)
        {
            <text>
            L.marker([@place.Latitude, @place.Longitude]).addTo(map)
              .bindPopup('<a href="/Places/Details/@place.Id">@place.Name</a>');
            </text>
        }
    </script>
}
